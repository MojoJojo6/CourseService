#+AUTHOR: Raghav Mittal, Nikhita Agrawal
#+DATE: Feb 25, 2018
#+TITLE: Documentation for Course Service

* Models
** Course
#+BEGIN_SRC PYTHON :export no :eval no
class Course(models.Model):
    """
    Course table for course service
    """
    cid = models.BigAutoField(primary_key=True)
    course_name = models.CharField(max_length=50)
    course_description = models.CharField(max_length=200)
    faculty_id = models.BigIntegerField()
    date_created = models.DateTimeField(auto_now_add=True)
    date_modified = models.DateTimeField(auto_now=True)

    def __unicode__(self):
        return self.course_name

    def __str__(self):
        return "{} - {}".format(self.cid, self.course_name)
#+END_SRC
* API
** Resources
*** =Course=
*** =Lesson=
- =my_course= changed to =course_id=
- =myseqnum= changed to =lesson_seqnum=
*** =LessonItem=
- =my_lesson= changed to =lesson_id=
- =my_course= attribute removed
** API endpoint description tables
*** Course
| description              | action | request payload                        | response JSON object type, 200 | response payload | URI =/courses= + |
|--------------------------+--------+----------------------------------------+--------------------------------+------------------+------------------|
| create a course          | POST   | all fields required except =facultyId= |                                |                  | =/create/=       |
| retrieve a course        | GET    |                                        |                                |                  | =/<cid>/=        |
| retreive list of courses | GET    |                                        | list                           |                  | =/=              |
| update a course          | PUT    | parameter: =cid=                       |                                |                  | =/<cid>/=        |
| delete a course          | DELETE | parameter: =cid=                       |                                |                  | =/<cid>/=        |

*** Lesson
| description                                                       | action | request payload                                               | reponse JSON object type, 200 | response payload | URI =/lessons= +                            |
|-------------------------------------------------------------------+--------+---------------------------------------------------------------+-------------------------------+------------------+---------------------------------------------|
| create a lesson                                                   | POST   | all fields required except =course_id=                        |                               |                  | =/create/=                                  |
| retrieve a lesson                                                 | GET    |                                                               |                               |                  | =/<lid>/=                                   |
| retrieve list of all lessons                                      | GET    |                                                               | list                          |                  | =/=                                         |
| retrieve list of all lessons associated with a course             | GET    | parameter: =course_id= as =cid=                               | list                          |                  | =/?cid=<course_id>/=                        |
| retrieve a lesson associated with a course by its sequence number | GET    | parameters: =course_id= as =cid=, =lesson_seqnum= as =seqnum= | list                          |                  | ~/?cid=<course_id>&seqnum=<lesson_seqnum>/~ |
| update a lesson                                                   | PUT    |                                                               |                               |                  | =/<lid>/=                                   |
| delete a lesson                                                   | DELETE |                                                               |                               |                  | =/<lid>/=                                   |
|                                                                   |        |                                                               |                               |                  |                                             |
*** LessonItem
| description                                                          | action | request payload                                              | response JSON object type, 200 | response payload | URI =/litems= +                              |
|----------------------------------------------------------------------+--------+--------------------------------------------------------------+--------------------------------+------------------+----------------------------------------------|
| create a lesson item                                                 | POST   | all fields required except =lesson_id=                       |                                |                  | =/create/=                                   |
| retrieve a lesson item                                               | GET    |                                                              |                                |                  | =/<llid>/=                                   |
| retrieve list of all lessons                                         | GET    |                                                              | list                           |                  | =/=                                          |
| retrieve list of all lesson items associated with a lesson           | GET    | parameter: =lesson_id= as =lid=                              | list                           |                  | ~/?lid=<lesson_id>/~                         |
| retrieve lesson item associated with a lesson by its sequence number | GET    | parameter: =lesson_id= as =lid=, =litem_seqnum= as =lseqnum= | list                           |                  | ~/?lid=<lesson_id>&lseqnum=<lesson_seqnum>/~ |
| update a lesson item                                                 | PUT    |                                                              |                                |                  | =/<llid>/=                                   |
| delete a lesson item                                                 | DELETE |                                                              |                                |                  | =/<llid>/=                                   |
