#+AUTHOR: Raghav Mittal, Nikhita Agrawal
#+DATE: Feb 25, 2018
#+TITLE: Documentation for Course Service

* Models
** Course
#+BEGIN_SRC PYTHON :export no :eval no
class Course(models.Model):
    """
    Course table for course service
    """
    cid = models.BigAutoField(primary_key=True)
    course_name = models.CharField(max_length=50)
    course_description = models.CharField(max_length=200)
    faculty_id = models.BigIntegerField()
    date_created = models.DateTimeField(auto_now_add=True)
    date_modified = models.DateTimeField(auto_now=True)

    def __unicode__(self):
        return self.course_name

    def __str__(self):
        return "{} - {}".format(self.cid, self.course_name)
#+END_SRC
* API
** Resources
*** =Course=
*** =Lesson=
- =my_course= changed to =course_id=
- =myseqnum= changed to =lesson_seqnum=
*** =LessonItem=
- =my_lesson= changed to =lesson_id=
- =my_course= attribute removed
** API endpoint description tables
*** Course
| description              | action | payload                                | response, 200 | URI =/courses= + |
|--------------------------+--------+----------------------------------------+---------------+------------------|
| create a course          | POST   | all fields required except =facultyId= | =cid=         | =/create/=       |
| retrieve a course        | GET    | lookup: =cid=                          |               | =/<cid>/=        |
| retreive list of courses | GET    | N/A                                    |               | =/=              |
| update a course          | PUT    | lookup: =cid=                          |               | =/<cid>/=        |
| delete a course          | DELETE | lookup: =cid=                          |               | =/<cid>/=        |

*** Lesson
| description                                                       | action | payload                                | reponse JSON object type, 200 | response payload | URI =/lessons= +                            |
|-------------------------------------------------------------------+--------+----------------------------------------+-------------------------------+------------------+---------------------------------------------|
| create a lesson                                                   | POST   | all fields required except =course_id= |                               |                  | =/create/=                                  |
| retrieve a lesson                                                 | GET    | lookup: =lid=                          |                               |                  | =/<lid>/=                                   |
| retrieve list of all lessons                                      | GET    | N/A                                    | list                          |                  | =/=                                         |
| retrieve list of all lessons associated with a course             | GET    | lookup: =course_id=                    | list                          |                  | =/?cid=<course_id>/=                        |
| retrieve a lesson associated with a course by its sequence number | GET    | lookup: =course_id=, =lesson_seqnum=   | list                          |                  | ~/?cid=<course_id>&seqnum=<lesson_seqnum>/~ |
| update a lesson                                                   | PUT    | lookup: =lid=                          |                               |                  | =/<lid>/=                                   |
| delete a lesson                                                   | DELETE | lookup: =lid=                          |                               |                  | =/<lid>/=                                   |
|                                                                   |        |                                        |                               |                  |                                             |
|                                                                   |        |                                        |                               |                  |                                             |

*** LessonItem
| description                                                          | action | payload                                | response, 200 | URI =/lessonsitems= +             |
|----------------------------------------------------------------------+--------+----------------------------------------+---------------+-----------------------------------|
| create a lesson item                                                 | POST   | all fields required except =lid=       | =llid=        | =/create/=                        |
| retrieve a lesson item                                               | GET    | lookup: =llid=                         |               | =/<llid>/=                        |
| retrieve list of all lessons                                         | GET    | N/A                                    |               | =/=                               |
| retrieve list of all lesson items associated with a lesson           | GET    | lookup: =lid=                          |               | =/<lid>/=                         |
| retrieve lesson item associated with a lesson by its sequence number | GET    | lookup: =lessonId=, =lessonItemSeqNum= |               | =/<lessonId>/<lessonItemSeqNum>/= |
| update a lesson item                                                 | PUT    | lookup: =llid=                         |               | =/<llid>/=                        |
| delete a lesson item                                                 | DELETE | lookup: =llid=                         |               | =/<llid>/=                        |
